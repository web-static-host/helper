html {
    /* Резервирует место под скроллбар, чтобы страница не дергалась */
    scrollbar-gutter: stable;
}

body { 
    font-family: sans-serif; 
    margin: 0; /* Убираем внешний отступ, чтобы wrapper корректно центрировался */
    padding: 20px; /* Переносим отступ внутрь */
    background-color: #f4f4f9; 
}

.main-wrapper { 
    display: flex; 
    gap: 20px; 
    max-width: 1600px; 
    margin: 0 auto; /* Центрируем */
    align-items: flex-start; 
}
/* Колонки */
.column { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); min-height: 400px; }
.col-left { flex: 2; }
.col-mid { flex: 1; position: sticky; top: 20px; }
.col-right { flex: 1; position: sticky; top: 20px; }

h2 { margin-top: 0; color: #333; border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 20px; }

.search-box { margin-bottom: 20px; display: flex; gap: 10px; }
input, select { padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 14px; }
input[type="text"] { flex-grow: 1; }

button.primary-btn { padding: 10px 20px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 4px; font-size: 16px; font-weight: bold; }
button.primary-btn:hover { background: #0056b3; }

.result-table { width: 100%; border-collapse: collapse; display: none; margin-top: 10px; }
.result-table td { padding: 12px; border: 1px solid #ddd; font-size: 14px; }
.result-table td:first-child { background: #f8f9fa; font-weight: bold; width: 35%; color: #555; }

.tool-section { margin-bottom: 15px; }
.tool-section summary { font-weight: bold; cursor: pointer; padding: 10px; background: #f8f9fa; border-radius: 4px; list-style: none; display: flex; justify-content: space-between; border: 1px solid #eee; }
.tool-section summary::after { content: '▼'; font-size: 10px; color: #888; }
.tool-section[open] summary::after { content: '▲'; }

.links-list { list-style: none; padding: 5px 0 0 0; }
.link-item { display: flex; justify-content: space-between; align-items: center; padding: 8px; border-bottom: 1px solid #f0f0f0; }
.link-info { display: flex; flex-direction: column; overflow: hidden; }
.link-name { color: #333; font-weight: 500; font-size: 13px; }
.link-url { color: #888; font-size: 10px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 150px; }

.copy-btn { background: #eee; border: 1px solid #ccc; border-radius: 4px; padding: 3px 8px; cursor: pointer; font-size: 11px; }

.astral-box { margin-top: 10px; padding: 10px; border: 1px solid #cfe2ff; border-radius: 4px; background: #f8faff; }
.gen-row { margin: 10px 0; font-size: 14px; display: flex; align-items: center; gap: 10px; }

/* Кнопка и результат пароля одинакового размера */
.gen-btn { width: 100%; padding: 10px; cursor: pointer; background: #28a745; color: white; border: none; border-radius: 4px; font-weight: bold; box-sizing: border-box; }
#passResult { 
    width: 100%; 
    height: 40px; 
    margin-top: 10px; 
    font-family: monospace; 
    font-weight: bold; 
    text-align: center; 
    background: #e9ecef; 
    border: 1px dashed #6c757d; 
    border-radius: 4px; 
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box; 
}

pre { background: #272822; color: #f8f8f2; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 12px; max-height: 250px; }

.link-name:hover {
    color: #007bff !important;
    text-decoration: underline !important;
    cursor: pointer;
}

/* Контейнер подсказки */
.tooltip {
    position: relative;
    display: inline-flex;
    align-items: center;
    cursor: help;
    margin-left: 4px; /* Расстояние стало еще меньше */
    vertical-align: middle;
}

/* Значок вопроса */
.tooltip-icon {
    width: 15px;
    height: 15px;
    background-color: #d1d1d1;
    color: #fff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: bold;
    flex-shrink: 0; /* Чтобы иконка не сжималась */
}

/* Всплывающее окно */
.tooltip .tooltiptext {
    visibility: hidden;
    width: 260px;
    background-color: #333;
    color: #fff;
    text-align: left;
    border-radius: 6px;
    padding: 10px;
    position: absolute;
    
    /* Позиционирование */
    z-index: 99999; /* Максимальный приоритет */
    top: 25px;      /* Появляется сразу под иконкой */
    
    /* Сдвигаем влево, чтобы не вылезало за правую границу колонки */
    right: 0;       
    
    opacity: 0;
    transition: opacity 0.2s;
    font-size: 13px;
    line-height: 1.4;
    font-weight: normal;
    box-shadow: 0 5px 15px rgba(0,0,0,0.4);
    pointer-events: none;
    word-wrap: break-word; /* Чтобы длинные слова не ломали блок */
}

/* Треугольник (хвостик) */
.tooltip .tooltiptext::after {
    content: "";
    position: absolute;
    bottom: 100%;
    right: 5px; /* Хвостик будет справа, над иконкой */
    border-width: 6px;
    border-style: solid;
    border-color: transparent transparent #333 transparent;
}

/* Показ при наведении */
.tooltip:hover .tooltiptext {
    visibility: visible;
    opacity: 1;
}

/* Устранение обрезки в колонках и деталях */
.column, .tool-section, details {
    overflow: visible !important; /* Разрешаем элементам выходить за границы */
}